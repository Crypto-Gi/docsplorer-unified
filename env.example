# ===================================================================
# Docsplorer Unified Configuration
# Copy this file to .env and fill in your values
# ===================================================================
 
 # ===== Global Settings =====
 # ENVIRONMENT: Overall runtime mode for the Search API.
 #   - "development": relaxed checks, good for local/lab use.
 #   - "production": enforces HTTPS + API key for Qdrant.
 ENVIRONMENT=development
 
 # DEBUG: Enables extra verbose logging when set to "true".
 #   - Use "true" while debugging; keep "false" in normal use.
 DEBUG=false
 
 # REQUEST_TIMEOUT: Default HTTP timeout (in seconds) for outgoing
 # calls made by the services (e.g. to Qdrant, Ollama, Gemini).
 #   - Increase if your network is slow; decrease for stricter SLAs.
 REQUEST_TIMEOUT=30
 
 
 # ===== API Key Authentication =====
 # SEARCH_API_KEY_ENABLED:
 #   - "true"  => Search API requires a Bearer token in Authorization header.
 #   - "false" => No API key required (good for local/lab use).
 SEARCH_API_KEY_ENABLED=false
 
 # SEARCH_API_KEY: The API key value expected when
 # SEARCH_API_KEY_ENABLED=true. Leave empty if disabled.
 SEARCH_API_KEY=
 
 
 # ===== Qdrant Dev Configuration =====
 # These settings are used when a request sets use_production=false
 # (the default for your MCP tools) and when you are running in a
 # development/dev-cluster environment.
 
 # QDRANT_DEV_URL: Base URL for your dev Qdrant instance.
 #   - Example (local Docker):  http://localhost:6333
 #   - Example (remote host):   http://10.0.0.5:6333
 QDRANT_DEV_URL=http://localhost:6333
 
 # QDRANT_DEV_API_KEY: API key for dev Qdrant (if it requires auth).
 #   - Leave empty if your dev Qdrant has no authentication.
 QDRANT_DEV_API_KEY=
 
 # QDRANT_DEV_VERIFY_SSL: Whether to verify TLS certificates for
 # HTTPS dev URLs.
 #   - false => do NOT verify (useful for self-signed or http).
 #   - true  => do verify (recommended for real TLS endpoints).
 QDRANT_DEV_VERIFY_SSL=false
 
 
 # ===== Qdrant Prod Configuration =====
 # These are used when use_production=true on a request.
 # Typically only filled in real production deployments.
 
 # QDRANT_PROD_URL: Base URL for your production Qdrant instance.
 #   - Should normally be https://... in real production.
 QDRANT_PROD_URL=
 
 # QDRANT_PROD_API_KEY: API key for production Qdrant.
 #   - Required if Qdrant is locked down in prod.
 QDRANT_PROD_API_KEY=
 
 # QDRANT_PROD_VERIFY_SSL: Whether to verify TLS certificates for
 # HTTPS production Qdrant URLs. Keep this "true" unless you
 # have a very specific reason not to.
 QDRANT_PROD_VERIFY_SSL=true
 
 
 # ===== Qdrant Fallback (Backward Compatibility) =====
 # Older code paths may use these variables as a generic fallback when
 # DEV/PROD-specific settings are not provided.
 
 # QDRANT_URL: Generic Qdrant URL (used as a last resort fallback).
 QDRANT_URL=
 
 # QDRANT_API_KEY: Generic Qdrant API key fallback.
 QDRANT_API_KEY=
 
 # QDRANT_VERIFY_SSL: Generic SSL verification flag (used only when
 # QDRANT_URL is an https:// URL).
 QDRANT_VERIFY_SSL=true
 
 # QDRANT_HOST: Legacy host used to construct a URL when nothing
 # else is set. Prefer QDRANT_DEV_URL/QDRANT_PROD_URL instead.
 QDRANT_HOST=
 
 # QDRANT_FORCE_IGNORE_SSL:
 #   - true  => force disable SSL verification for HTTPS (unsafe).
 #   - false => normal behavior (respect *_VERIFY_SSL flags).
 QDRANT_FORCE_IGNORE_SSL=false
 
 
 # ===== Qdrant Collection =====
 # QDRANT_COLLECTION: Name of the collection containing your document
 # embeddings. All searches will target this collection.
 QDRANT_COLLECTION=content
 
 
 # ===== Embedding Provider (Global) =====
 # EMBEDDING_PROVIDER selects which embedding backend the Search API
 # uses at query time.
 #   - "ollama" => use an Ollama server (local or remote).
 #   - "gemini" => use Google Gemini embeddings.
 EMBEDDING_PROVIDER=ollama
 
 
 # ===== Ollama Configuration (only used when EMBEDDING_PROVIDER=ollama) =====
 # OLLAMA_HOST: URL of your Ollama server.
 #   - Example local:  http://localhost:11434
 #   - Example remote: http://10.0.0.5:11434
 OLLAMA_HOST=http://localhost:11434
 
 # OLLAMA_API_KEY: Optional API key for Ollama (used if you run
 # an Ollama-compatible cloud service that requires auth).
 OLLAMA_API_KEY=
 
 # OLLAMA_EMBEDDING_MODEL: Model name used for generating embeddings
 # via Ollama (must match a model pulled/available in Ollama).
 #   - Example: bge-m3, mxbai-embed-large, nomic-embed-text.
 OLLAMA_EMBEDDING_MODEL=bge-m3
 
 # OLLAMA_EMBEDDING_DIMENSIONS: Expected dimensionality of the
 # Ollama embedding model. Must match the model you use and the
 # vectors stored in Qdrant.
 OLLAMA_EMBEDDING_DIMENSIONS=1024
 
 
 # ===== Gemini Configuration (only used when EMBEDDING_PROVIDER=gemini) =====
 # GEMINI_API_KEY: Your Google Gemini API key (required when using
 # EMBEDDING_PROVIDER=gemini).
 GEMINI_API_KEY=
 
 # GEMINI_EMBEDDING_MODEL: Gemini embedding model id.
 #   - Default is gemini-embedding-001.
 GEMINI_EMBEDDING_MODEL=gemini-embedding-001
 
 # GEMINI_EMBEDDING_TASK_TYPE: Task type for Gemini embeddings.
 #   - Common value: RETRIEVAL_QUERY (query-time embeddings).
 GEMINI_EMBEDDING_TASK_TYPE=RETRIEVAL_QUERY
 
 # GEMINI_EMBEDDING_DIMENSIONS: Expected output size of Gemini
 # embeddings. Should match the model's documented dimension.
 GEMINI_EMBEDDING_DIMENSIONS=768
 
 
 # ===== Search Defaults =====
 # CONTEXT_WINDOW_SIZE: How many pages before/after a match to fetch
 # when building context around a result.
 #   - Example: 5 => center page Â±5 pages (11-page window).
 CONTEXT_WINDOW_SIZE=5
 
 # DEFAULT_RESULT_LIMIT: Default maximum number of results per query
 # for tools that do not specify a limit.
 DEFAULT_RESULT_LIMIT=2
 
 # USE_PRODUCTION: Controls whether the Search API and MCP tools use
 # the DEV or PROD Qdrant configuration by default.
 #   - false => use QDRANT_DEV_* settings (recommended for local/lab).
 #   - true  => use QDRANT_PROD_* settings.
 USE_PRODUCTION=true
 
 
 # ===== MCP Server Configuration =====
 # SEARCH_API_URL: Base URL the MCP server uses to reach the Search
 # API. In Docker, this is usually the service name and container port
 # (e.g., http://search-api:8000). For local dev, http://localhost:8000/8001.
 SEARCH_API_URL=http://localhost:8001
 
 # MCP_TRANSPORT: How the MCP server exposes itself.
 #   - "stdio" => for IDEs that speak MCP over stdio.
 #   - "http"  => HTTP endpoint (for tools like n8n).
 MCP_TRANSPORT=http
 
 # MCP_HTTP_HOST: Host/IP for the MCP HTTP server to bind to
 # when MCP_TRANSPORT=http.
 MCP_HTTP_HOST=0.0.0.0
 
 # MCP_HTTP_PORT: Port for MCP HTTP mode.
 MCP_HTTP_PORT=8505
 
 
 # ===== Search API Configuration =====
 # SEARCH_API_PORT: External port you expose the Search API on
 # (e.g., via uvicorn or Docker port mapping).
 SEARCH_API_PORT=8000
